{"ast":null,"code":"import React,{useCallback,useContext}from'react';import\"./SearchAndSort.css\";import{observer}from\"mobx-react-lite\";import{Row}from\"react-bootstrap\";import{fetchBooksFirstTime}from\"../../api/fetchingApi\";import SortComponent from\"../sortComponent/SortComponent\";import{useNavigate}from\"react-router-dom\";import{ReactComponent as SearchLoop}from'../../assets/images/magnifying-glass-solid.svg';import{Context}from\"../../ContextProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchAndSort=observer(function(){var _useContext=useContext(Context),booksStore=_useContext.booksStore;var navigate=useNavigate();var bookSearchQuery=booksStore.searchQuery;var SetDataButton=useCallback(function(bookSearchQuery){console.log({bookSearchQuery2:bookSearchQuery});if(bookSearchQuery){navigate(\"/booklist\");fetchBooksFirstTime(bookSearchQuery,booksStore,booksStore.optionRelevance,booksStore.subjectCategory).then();}},[]);var setDataEnter=useCallback(function(event){console.log(\"SetDataEnter\");if(event.key===\"Enter\"&&bookSearchQuery){navigate(\"/booklist\");fetchBooksFirstTime(booksStore.searchQuery,booksStore,booksStore.optionRelevance,booksStore.subjectCategory).then();}},[]);var setSearchQuery=function setSearchQuery(e){booksStore.setSearchQuery(e.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"search_container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"position_set row_h1\",children:\"Search for Books\"}),/*#__PURE__*/_jsxs(Row,{id:\"row_search\",className:\"position_set\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"input_search\",className:\"position_set input_search\",placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A..\",value:bookSearchQuery,onChange:setSearchQuery,type:\"text\",onKeyDown:setDataEnter}),/*#__PURE__*/_jsx(\"button\",{id:\"button_search\",\"aria-label\":\"\\u041F\\u043E\\u0438\\u0441\\u043A...\",className:\"position_set button_search\",onClick:function onClick(){return SetDataButton(bookSearchQuery);},children:/*#__PURE__*/_jsx(SearchLoop,{id:\"search_loop\",className:\"search_loop\"})})]}),/*#__PURE__*/_jsx(SortComponent,{})]});});export default SearchAndSort;","map":{"version":3,"names":["React","useCallback","useContext","observer","Row","fetchBooksFirstTime","SortComponent","useNavigate","ReactComponent","SearchLoop","Context","jsx","_jsx","jsxs","_jsxs","SearchAndSort","_useContext","booksStore","navigate","bookSearchQuery","searchQuery","SetDataButton","console","log","bookSearchQuery2","optionRelevance","subjectCategory","then","setDataEnter","event","key","setSearchQuery","e","target","value","className","children","id","placeholder","onChange","type","onKeyDown","onClick"],"sources":["D:/T/online-store/search-for-books/client/src/components/searchComponent/SearchAndSort.tsx"],"sourcesContent":["import React, {useCallback, useContext} from 'react';\r\nimport \"./SearchAndSort.css\"\r\nimport {observer} from \"mobx-react-lite\";\r\nimport {Row} from \"react-bootstrap\";\r\nimport {fetchBooksFirstTime} from \"../../api/fetchingApi\";\r\nimport SortComponent from \"../sortComponent/SortComponent\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport {ReactComponent as SearchLoop} from '../../assets/images/magnifying-glass-solid.svg';\r\nimport {Context} from \"../../ContextProvider\";\r\n\r\n\r\n\r\nconst SearchAndSort = observer(() => {\r\n\r\n    const {booksStore} = useContext(Context)\r\n    const navigate = useNavigate()\r\n    let bookSearchQuery = booksStore.searchQuery\r\n\r\n    const SetDataButton = useCallback((bookSearchQuery:string) => {\r\n        console.log({bookSearchQuery2: bookSearchQuery})\r\n        if (bookSearchQuery) {\r\n            navigate(`/booklist`)\r\n            fetchBooksFirstTime(bookSearchQuery, booksStore,\r\n                booksStore.optionRelevance,booksStore.subjectCategory).then()\r\n        }\r\n    },[])\r\n\r\n\r\n    const setDataEnter = useCallback((event: React.KeyboardEvent<HTMLInputElement>) => {\r\n        console.log(\"SetDataEnter\")\r\n        if (event.key === \"Enter\" && bookSearchQuery) {\r\n            navigate(`/booklist`)\r\n            fetchBooksFirstTime(booksStore.searchQuery, booksStore,\r\n                booksStore.optionRelevance,booksStore.subjectCategory).then()\r\n        }\r\n    },[])\r\n\r\n    const setSearchQuery = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n             booksStore.setSearchQuery(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <div className=\"search_container\">\r\n            <h1 className=\"position_set row_h1\">Search for Books</h1>\r\n            <Row id=\"row_search\" className=\"position_set\">\r\n                <input id=\"input_search\" className=\"position_set input_search\"\r\n                       placeholder={`Поиск..`}\r\n                       value={bookSearchQuery}\r\n                       onChange={setSearchQuery}\r\n                       type=\"text\"\r\n                       onKeyDown={setDataEnter}\r\n                />\r\n                <button id=\"button_search\" aria-label=\"Поиск...\" className=\"position_set button_search\"\r\n                        onClick={()=>SetDataButton(bookSearchQuery)}>\r\n                    <SearchLoop id=\"search_loop\" className=\"search_loop\"/></button>\r\n            </Row>\r\n            <SortComponent/>\r\n        </div>\r\n    );\r\n})\r\n\r\nexport default SearchAndSort;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,WAAW,CAAEC,UAAU,KAAO,OAAO,CACpD,MAAO,qBAAqB,CAC5B,OAAQC,QAAQ,KAAO,iBAAiB,CACxC,OAAQC,GAAG,KAAO,iBAAiB,CACnC,OAAQC,mBAAmB,KAAO,uBAAuB,CACzD,MAAO,CAAAC,aAAa,KAAM,gCAAgC,CAC1D,OAAQC,WAAW,KAAO,kBAAkB,CAC5C,OAAQC,cAAc,GAAI,CAAAC,UAAU,KAAO,gDAAgD,CAC3F,OAAQC,OAAO,KAAO,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAI9C,GAAM,CAAAC,aAAa,CAAGZ,QAAQ,CAAC,UAAM,CAEjC,IAAAa,WAAA,CAAqBd,UAAU,CAACQ,OAAO,CAAC,CAAjCO,UAAU,CAAAD,WAAA,CAAVC,UAAU,CACjB,GAAM,CAAAC,QAAQ,CAAGX,WAAW,EAAE,CAC9B,GAAI,CAAAY,eAAe,CAAGF,UAAU,CAACG,WAAW,CAE5C,GAAM,CAAAC,aAAa,CAAGpB,WAAW,CAAC,SAACkB,eAAsB,CAAK,CAC1DG,OAAO,CAACC,GAAG,CAAC,CAACC,gBAAgB,CAAEL,eAAe,CAAC,CAAC,CAChD,GAAIA,eAAe,CAAE,CACjBD,QAAQ,aAAa,CACrBb,mBAAmB,CAACc,eAAe,CAAEF,UAAU,CAC3CA,UAAU,CAACQ,eAAe,CAACR,UAAU,CAACS,eAAe,CAAC,CAACC,IAAI,EAAE,CACrE,CACJ,CAAC,CAAC,EAAE,CAAC,CAGL,GAAM,CAAAC,YAAY,CAAG3B,WAAW,CAAC,SAAC4B,KAA4C,CAAK,CAC/EP,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,CAC3B,GAAIM,KAAK,CAACC,GAAG,GAAK,OAAO,EAAIX,eAAe,CAAE,CAC1CD,QAAQ,aAAa,CACrBb,mBAAmB,CAACY,UAAU,CAACG,WAAW,CAAEH,UAAU,CAClDA,UAAU,CAACQ,eAAe,CAACR,UAAU,CAACS,eAAe,CAAC,CAACC,IAAI,EAAE,CACrE,CACJ,CAAC,CAAC,EAAE,CAAC,CAEL,GAAM,CAAAI,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,CAAsC,CAAK,CAC1Df,UAAU,CAACc,cAAc,CAACC,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAClD,CAAC,CAED,mBACIpB,KAAA,QAAKqB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC7BxB,IAAA,OAAIuB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,kBAAgB,EAAK,cACzDtB,KAAA,CAACV,GAAG,EAACiC,EAAE,CAAC,YAAY,CAACF,SAAS,CAAC,cAAc,CAAAC,QAAA,eACzCxB,IAAA,UAAOyB,EAAE,CAAC,cAAc,CAACF,SAAS,CAAC,2BAA2B,CACvDG,WAAW,mCAAY,CACvBJ,KAAK,CAAEf,eAAgB,CACvBoB,QAAQ,CAAER,cAAe,CACzBS,IAAI,CAAC,MAAM,CACXC,SAAS,CAAEb,YAAa,EAC7B,cACFhB,IAAA,WAAQyB,EAAE,CAAC,eAAe,CAAC,aAAW,mCAAU,CAACF,SAAS,CAAC,4BAA4B,CAC/EO,OAAO,CAAE,SAAAA,QAAA,QAAI,CAAArB,aAAa,CAACF,eAAe,CAAC,EAAC,CAAAiB,QAAA,cAChDxB,IAAA,CAACH,UAAU,EAAC4B,EAAE,CAAC,aAAa,CAACF,SAAS,CAAC,aAAa,EAAE,EAAS,GACjE,cACNvB,IAAA,CAACN,aAAa,IAAE,GACd,CAEd,CAAC,CAAC,CAEF,cAAe,CAAAS,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}