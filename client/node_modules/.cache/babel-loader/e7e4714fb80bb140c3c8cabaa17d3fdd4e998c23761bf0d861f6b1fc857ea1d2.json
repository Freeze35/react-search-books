{"ast":null,"code":"import React,{useContext,useEffect}from'react';import{Navigate,Route,Routes,useNavigate}from\"react-router-dom\";import{booksRoutes}from\"./routes\";import{MAIN_ROUTE}from\"../assets/const\";import{Context}from\"../ContextProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AppRouter=function AppRouter(){var _useContext=useContext(Context),booksStore=_useContext.booksStore;var navigate=useNavigate();//Redirect checking exist our oneBook\nuseEffect(function(){if(!booksStore.oneBookData.id){return navigate(\"/booklist\");}},[booksStore.books,booksStore.oneBookData.id,navigate]);return/*#__PURE__*/_jsxs(Routes,{children:[booksRoutes.map(function(_ref){var path=_ref.path,Component=_ref.Component;return/*#__PURE__*/_jsx(Route,{path:path,element:/*#__PURE__*/_jsx(Component,{})},path);}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:MAIN_ROUTE,replace:true})})]});};export default AppRouter;","map":{"version":3,"names":["React","useContext","useEffect","Navigate","Route","Routes","useNavigate","booksRoutes","MAIN_ROUTE","Context","jsx","_jsx","jsxs","_jsxs","AppRouter","_useContext","booksStore","navigate","oneBookData","id","books","children","map","_ref","path","Component","element","to","replace"],"sources":["D:/T/online-store/search-for-books/client/src/routes/AppRouter.tsx"],"sourcesContent":["import React, {useContext, useEffect} from 'react';\r\nimport {Navigate, Route, Routes, useNavigate} from \"react-router-dom\";\r\nimport {booksRoutes} from \"./routes\";\r\nimport {MAIN_ROUTE} from \"../assets/const\";\r\nimport {Context} from \"../ContextProvider\";\r\n\r\n\r\nconst AppRouter = () => {\r\n    const {booksStore} = useContext(Context)\r\n    const navigate = useNavigate()\r\n\r\n    //Redirect checking exist our oneBook\r\n    useEffect(() => {\r\n        if (!booksStore.oneBookData.id){\r\n            return navigate(\"/booklist\");\r\n        }\r\n    },[booksStore.books,booksStore.oneBookData.id,navigate]);\r\n\r\n    return (\r\n        <Routes>\r\n            {booksRoutes.map(({path, Component}) =>\r\n                <Route key={path} path={path} element={<Component/>}/>\r\n                    )}\r\n            <Route path=\"*\" element={<Navigate to={MAIN_ROUTE} replace />}/>\r\n        </Routes>\r\n    );\r\n};\r\n\r\nexport default AppRouter;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,UAAU,CAAEC,SAAS,KAAO,OAAO,CAClD,OAAQC,QAAQ,CAAEC,KAAK,CAAEC,MAAM,CAAEC,WAAW,KAAO,kBAAkB,CACrE,OAAQC,WAAW,KAAO,UAAU,CACpC,OAAQC,UAAU,KAAO,iBAAiB,CAC1C,OAAQC,OAAO,KAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAG3C,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACpB,IAAAC,WAAA,CAAqBd,UAAU,CAACQ,OAAO,CAAC,CAAjCO,UAAU,CAAAD,WAAA,CAAVC,UAAU,CACjB,GAAM,CAAAC,QAAQ,CAAGX,WAAW,EAAE,CAE9B;AACAJ,SAAS,CAAC,UAAM,CACZ,GAAI,CAACc,UAAU,CAACE,WAAW,CAACC,EAAE,CAAC,CAC3B,MAAO,CAAAF,QAAQ,CAAC,WAAW,CAAC,CAChC,CACJ,CAAC,CAAC,CAACD,UAAU,CAACI,KAAK,CAACJ,UAAU,CAACE,WAAW,CAACC,EAAE,CAACF,QAAQ,CAAC,CAAC,CAExD,mBACIJ,KAAA,CAACR,MAAM,EAAAgB,QAAA,EACFd,WAAW,CAACe,GAAG,CAAC,SAAAC,IAAA,KAAE,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,SAAS,CAAAF,IAAA,CAATE,SAAS,oBAC9Bd,IAAA,CAACP,KAAK,EAAYoB,IAAI,CAAEA,IAAK,CAACE,OAAO,cAAEf,IAAA,CAACc,SAAS,IAAG,EAAxCD,IAAI,CAAsC,GACjD,cACTb,IAAA,CAACP,KAAK,EAACoB,IAAI,CAAC,GAAG,CAACE,OAAO,cAAEf,IAAA,CAACR,QAAQ,EAACwB,EAAE,CAAEnB,UAAW,CAACoB,OAAO,OAAI,EAAE,GAC3D,CAEjB,CAAC,CAED,cAAe,CAAAd,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}