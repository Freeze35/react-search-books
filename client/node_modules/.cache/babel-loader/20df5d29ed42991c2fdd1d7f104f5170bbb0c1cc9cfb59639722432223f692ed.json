{"ast":null,"code":"import React,{useContext}from'react';import BooksSelector from\"../selector/BooksSelector\";import\"./OptionSelector.css\";import{observer}from\"mobx-react-lite\";import{fetchBooksFirstTime}from\"../../api/fetchingApi\";import{Context}from\"../../ContextProvider\";import{categoryMassive,optionMassive}from\"./optionsMassive\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SortComponent=observer(function(){var _useContext=useContext(Context),booksStore=_useContext.booksStore;//Sorting our data {relevance,newest}\nvar sortData=function sortData(sortType){console.log(\"sortData\");if(booksStore.searchQuery){booksStore.setOptionRelevance(sortType);fetchBooksFirstTime(booksStore.searchQuery,booksStore,sortType,booksStore.subjectCategory).then();}else{booksStore.setOptionRelevance(sortType);}};var categorySelector=function categorySelector(category){console.log(\"categorySelector\");if(booksStore.searchQuery){booksStore.setSubjectCategory(category);fetchBooksFirstTime(booksStore.searchQuery,booksStore,booksStore.optionRelevance,category).then();}else{booksStore.setSubjectCategory(category);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"position_set position_set_sort\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"selector_name\",children:\"Category \"}),/*#__PURE__*/_jsx(BooksSelector,{value:booksStore.optionRelevance,onChange:sortData,options:optionMassive,className:\"option_selector\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"selector_name\",children:\"Sorting by\"}),/*#__PURE__*/_jsx(BooksSelector,{value:booksStore.subjectCategory,onChange:categorySelector,options:categoryMassive,className:\"option_selector\"})]});});export default SortComponent;","map":{"version":3,"names":["React","useContext","BooksSelector","observer","fetchBooksFirstTime","Context","categoryMassive","optionMassive","jsx","_jsx","jsxs","_jsxs","SortComponent","_useContext","booksStore","sortData","sortType","console","log","searchQuery","setOptionRelevance","subjectCategory","then","categorySelector","category","setSubjectCategory","optionRelevance","className","children","value","onChange","options"],"sources":["D:/T/online-store/search-for-books/client/src/components/sortComponent/SortComponent.tsx"],"sourcesContent":["import React, {useContext} from 'react';\r\nimport {ContainerProps} from \"react-bootstrap\";\r\nimport BooksSelector from \"../selector/BooksSelector\";\r\nimport \"./OptionSelector.css\"\r\n\r\nimport {observer} from \"mobx-react-lite\";\r\nimport {fetchBooksFirstTime} from \"../../api/fetchingApi\";\r\nimport {Context} from \"../../ContextProvider\";\r\nimport {categoryMassive, optionMassive} from \"./optionsMassive\";\r\n\r\n\r\n\r\nconst SortComponent: React.FC<ContainerProps> = observer(() => {\r\n\r\n    const {booksStore} = useContext(Context)\r\n\r\n    //Sorting our data {relevance,newest}\r\n    const sortData = (sortType: string) => {\r\n        console.log(\"sortData\")\r\n        if (booksStore.searchQuery) {\r\n            booksStore.setOptionRelevance(sortType)\r\n            fetchBooksFirstTime(booksStore.searchQuery, booksStore, sortType, booksStore.subjectCategory).then()\r\n        } else {\r\n            booksStore.setOptionRelevance(sortType)\r\n        }\r\n    }\r\n\r\n    const categorySelector = (category: string) => {\r\n        console.log(\"categorySelector\")\r\n        if (booksStore.searchQuery) {\r\n            booksStore.setSubjectCategory(category)\r\n            fetchBooksFirstTime(booksStore.searchQuery, booksStore, booksStore.optionRelevance, category).then()\r\n        } else {\r\n            booksStore.setSubjectCategory(category)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"position_set position_set_sort\">\r\n            <h1 className=\"selector_name\">Category </h1>\r\n            <BooksSelector value={booksStore.optionRelevance} onChange={sortData}\r\n                           options={optionMassive} className=\"option_selector\">\r\n            </BooksSelector>\r\n            <h1 className=\"selector_name\">Sorting by</h1>\r\n            <BooksSelector value={booksStore.subjectCategory} onChange={categorySelector}\r\n                           options={categoryMassive} className=\"option_selector\">\r\n            </BooksSelector>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default SortComponent;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,UAAU,KAAO,OAAO,CAEvC,MAAO,CAAAC,aAAa,KAAM,2BAA2B,CACrD,MAAO,sBAAsB,CAE7B,OAAQC,QAAQ,KAAO,iBAAiB,CACxC,OAAQC,mBAAmB,KAAO,uBAAuB,CACzD,OAAQC,OAAO,KAAO,uBAAuB,CAC7C,OAAQC,eAAe,CAAEC,aAAa,KAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAIhE,GAAM,CAAAC,aAAuC,CAAGT,QAAQ,CAAC,UAAM,CAE3D,IAAAU,WAAA,CAAqBZ,UAAU,CAACI,OAAO,CAAC,CAAjCS,UAAU,CAAAD,WAAA,CAAVC,UAAU,CAEjB;AACA,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,QAAgB,CAAK,CACnCC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC,CACvB,GAAIJ,UAAU,CAACK,WAAW,CAAE,CACxBL,UAAU,CAACM,kBAAkB,CAACJ,QAAQ,CAAC,CACvCZ,mBAAmB,CAACU,UAAU,CAACK,WAAW,CAAEL,UAAU,CAAEE,QAAQ,CAAEF,UAAU,CAACO,eAAe,CAAC,CAACC,IAAI,EAAE,CACxG,CAAC,IAAM,CACHR,UAAU,CAACM,kBAAkB,CAACJ,QAAQ,CAAC,CAC3C,CACJ,CAAC,CAED,GAAM,CAAAO,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIC,QAAgB,CAAK,CAC3CP,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC,CAC/B,GAAIJ,UAAU,CAACK,WAAW,CAAE,CACxBL,UAAU,CAACW,kBAAkB,CAACD,QAAQ,CAAC,CACvCpB,mBAAmB,CAACU,UAAU,CAACK,WAAW,CAAEL,UAAU,CAAEA,UAAU,CAACY,eAAe,CAAEF,QAAQ,CAAC,CAACF,IAAI,EAAE,CACxG,CAAC,IAAM,CACHR,UAAU,CAACW,kBAAkB,CAACD,QAAQ,CAAC,CAC3C,CACJ,CAAC,CAED,mBACIb,KAAA,QAAKgB,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC3CnB,IAAA,OAAIkB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,WAAS,EAAK,cAC5CnB,IAAA,CAACP,aAAa,EAAC2B,KAAK,CAAEf,UAAU,CAACY,eAAgB,CAACI,QAAQ,CAAEf,QAAS,CACtDgB,OAAO,CAAExB,aAAc,CAACoB,SAAS,CAAC,iBAAiB,EAClD,cAChBlB,IAAA,OAAIkB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,YAAU,EAAK,cAC7CnB,IAAA,CAACP,aAAa,EAAC2B,KAAK,CAAEf,UAAU,CAACO,eAAgB,CAACS,QAAQ,CAAEP,gBAAiB,CAC9DQ,OAAO,CAAEzB,eAAgB,CAACqB,SAAS,CAAC,iBAAiB,EACpD,GACd,CAEd,CAAC,CAAC,CAEF,cAAe,CAAAf,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}