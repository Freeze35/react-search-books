"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[327],{3327:function(n,e,o){o.r(e),o.d(e,{default:function(){return F}});var t=o(7294),i=o(9250),a="/booklist",s=o(3379),r=o.n(s),l=o(7795),d=o.n(l),c=o(569),p=o.n(c),u=o(3565),m=o.n(u),x=o(9216),h=o.n(x),v=o(4589),g=o.n(v),b=o(7053),f={};f.styleTagTransform=g(),f.setAttributes=m(),f.insert=p().bind(null,"head"),f.domAPI=d(),f.insertStyleElement=h();r()(b.Z,f),b.Z&&b.Z.locals&&b.Z.locals;var k=o(2464),_=function(n,e){var o,t,i,a,s;switch(n){case"imageBook":var r,l,d,c,p,u;return window.innerWidth<500?void 0!==(null===(r=e.volumeInfo)||void 0===r||null===(l=r.imageLinks)||void 0===l?void 0:l.smallThumbnail)?e.volumeInfo.imageLinks.smallThumbnail:"":void 0!==(null===(d=e.volumeInfo)||void 0===d||null===(c=d.imageLinks)||void 0===c?void 0:c.thumbnail)?e.volumeInfo.imageLinks.thumbnail:void 0!==(null===(p=e.volumeInfo)||void 0===p||null===(u=p.imageLinks)||void 0===u?void 0:u.smallThumbnail)?e.volumeInfo.imageLinks.smallThumbnail:"";case"category":return void 0!==(null===(o=e.volumeInfo)||void 0===o?void 0:o.categories)?e.volumeInfo.categories[0].split(/[., -]/)[0].toLowerCase()[0].toUpperCase()+e.volumeInfo.categories[0].split(/[., -]/)[0].toLowerCase().slice(1):"";case"category_all":return void 0!==(null===(t=e.volumeInfo)||void 0===t?void 0:t.categories)?e.volumeInfo.categories[0]:"";case"title":return void 0!==(null===(i=e.volumeInfo)||void 0===i?void 0:i.title)?e.volumeInfo.title:"";case"authors":return void 0!==(null===(a=e.volumeInfo)||void 0===a?void 0:a.authors)?e.volumeInfo.authors:"";case"description":if(void 0!==(null===(s=e.volumeInfo)||void 0===s?void 0:s.description))return(new DOMParser).parseFromString(e.volumeInfo.description,"text/html").children[0].textContent}},w=o(8755),j=o(5893),y=function(n){var e=n.book,o=n.navigate,i=n.booksStore;return(0,j.jsx)("div",{className:"upper_container_books","data-testid":"book-item",onClick:function(){!function(n,o,t){(0,k.cg)(n).then((function(n){t.setOneBookData(n),o("/page/".concat(e.id))}))}(e.id,o,i)},children:(0,j.jsxs)("div",{className:"container_books",children:[(0,j.jsx)(t.Suspense,{fallback:(0,j.jsx)(w.Z,{}),children:(0,j.jsx)("img",{className:"book_image",src:_("imageBook",e),alt:"",loading:"lazy"})}),(0,j.jsx)("h2",{className:"text_decoration category",children:_("category",e)}),(0,j.jsxs)("h1",{className:"text_decoration name_book",children:[" ",_("title",e)]}),(0,j.jsx)("p",{className:"text_decoration",children:_("authors",e)})]})})},N=o(242),I=o(7137),Z=o(4507),L={};L.styleTagTransform=g(),L.setAttributes=m(),L.insert=p().bind(null,"head"),L.domAPI=d(),L.insertStyleElement=h();r()(Z.Z,L),Z.Z&&Z.Z.locals&&Z.Z.locals;var C=function(n){var e=n.visible;return(0,j.jsx)("div",{className:"loader",children:(0,j.jsx)(I.iT,{height:window.innerHeight/6,width:window.innerWidth/6,color:"#18c781",secondaryColor:"#56d3cc",ariaLabel:"three-dots-loading",visible:e})})},S=function(n){var e=n.checkTotalItems,o=n.booksStore,t=n.hidden,i=n.className,a=o.books.totalItems,s=o.startIndexFetchApi,r=function(){return(0,k.z9)(o.searchQuery,o,o.optionRelevance,o.subjectCategory,"15",s)},l=Number(a)-Number(s);return(0,j.jsx)("div",{children:e?(0,j.jsxs)("div",{className:"load_more_button ".concat(i),onClick:function(){r().then((function(){r().then((function(){t=!1}))}))},children:[o.isLoading?(0,j.jsx)(C,{visible:!0}):"",(0,j.jsxs)("p",{hidden:t,className:"load_more_text",children:["Load more books",(0,j.jsx)("br",{}),l>=0?"Remaining unloaded books: \n                            ".concat(Number(a)-Number(s)):"No more books"]})]}):""})},T=o(3264),z=(0,N.Pi)((function(){var n,e=(0,t.useContext)(T._).booksStore,o=(0,i.s0)(),a=e.books.totalItems,s=function(){return void 0!==a&&a>0};return(0,j.jsxs)("div",{"data-testid":"books-list",children:[(0,j.jsxs)("div",{className:a?"booksList_background":"",children:[(0,j.jsx)("div",{children:s()?(0,j.jsxs)("div",{className:"founded",id:"Found",children:["Found ",a," results"]}):""}),(0,j.jsx)("div",{className:"books_list",children:null===(n=e.books.items)||void 0===n?void 0:n.map((function(n){return(0,j.jsx)(y,{book:n,navigate:o,booksStore:e},n.id+n.etag)}))})]}),e.isLoading&&!s()?(0,j.jsx)(C,{visible:!0}):"",e.isLoading?(0,j.jsx)(S,{className:"booksList_background",hidden:!0,checkTotalItems:s(),booksStore:e}):(0,j.jsx)(S,{className:"booksList_background",hidden:!1,checkTotalItems:s(),booksStore:e})]})})),B=o(3137),A={};A.styleTagTransform=g(),A.setAttributes=m(),A.insert=p().bind(null,"head"),A.domAPI=d(),A.insertStyleElement=h();r()(B.Z,A),B.Z&&B.Z.locals&&B.Z.locals;var D=[{path:a,Component:z},{path:"/page/:id",Component:function(){var n=(0,t.useContext)(T._).booksStore;return(0,j.jsxs)("div",{"data-testid":"book-page",className:"book_container",children:[(0,j.jsx)("div",{children:(0,j.jsx)("div",{className:"image_back",children:(0,j.jsx)(t.Suspense,{fallback:(0,j.jsx)(w.Z,{}),children:(0,j.jsx)("img",{className:"book_image_page",src:_("imageBook",n.oneBookData),alt:""})})})}),(0,j.jsxs)("div",{className:"info_book_block",children:[(0,j.jsx)("h2",{className:"text_decoration category_page",children:_("category_all",n.oneBookData)}),(0,j.jsxs)("h1",{className:"text_decoration name_book",children:[" ",_("title",n.oneBookData)]}),(0,j.jsx)("p",{className:"text_decoration authors_page",children:_("authors",n.oneBookData)}),(0,j.jsx)("div",{className:"description_block",children:_("description",n.oneBookData)})]})]})}}],F=function(){var n=(0,t.useContext)(T._).booksStore,e=(0,i.s0)();return(0,t.useEffect)((function(){if(!n.oneBookData.id)return e("/booklist")}),[n.books,n.oneBookData.id,e]),(0,j.jsxs)(i.Z5,{children:[D.map((function(n){var e=n.path,o=n.Component;return(0,j.jsx)(i.AW,{path:e,element:(0,j.jsx)(o,{})},e)})),(0,j.jsx)(i.AW,{path:"*",element:(0,j.jsx)(i.Fg,{to:a,replace:!0})})]})}},7053:function(n,e,o){var t=o(8081),i=o.n(t),a=o(3645),s=o.n(a)()(i());s.push([n.id,".founded {\n  text-align: center;\n  font-size: clamp(10px, 1.5vw, 38px);\n  padding: 15px 0 15px;\n}\n.not_founded {\n  text-align: center;\n  font-size: clamp(10px, 4.5vw, 38px);\n  padding: 15px 0 15px;\n}\n.booksList_background {\n  background: #e2e5ea;\n}\n.upper_container_books {\n  display: flex;\n  flex-wrap: wrap;\n}\n.container_books {\n  border-radius: 20px;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  justify-content: space-between;\n  margin: 2.5vh 2vw 2.5vh;\n  padding: 15px;\n  background: #fff;\n  height: auto;\n  min-width: 180px;\n  box-shadow: 0 0 4px #040217;\n  cursor: pointer;\n  transition: 0.3s;\n  width: clamp(10px, 30vw, 500px);\n}\n.container_books:hover {\n  background: #ddffe5;\n  cursor: pointer;\n}\n.books_list {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(25%, max-content));\n  grid-gap: 0;\n  justify-content: center;\n  padding: 2% 1% 4%;\n}\n@media screen and (max-width: 768px) {\n  .books_list {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n  }\n}\n.book_image {\n  align-self: center;\n  margin: 15px 0 15px;\n  box-shadow: 0 0 4px #040217;\n  height: clamp(50px, 18vw, 180px);\n}\n.text_decoration {\n  position: relative;\n  font-size: clamp(10px, 1.3vw, 38px);\n  color: gray;\n  text-align: start;\n}\n.category {\n  text-decoration: underline;\n  margin: 10px 5px 20px;\n}\n.name_book {\n  margin-top: 3%;\n  font-size: clamp(10px, 1.8vw, 38px);\n  color: #040217;\n  max-height: 15vh;\n  overflow: hidden;\n}\n.name_book:hover {\n  font-size: clamp(10px, 1.8vw, 38px);\n  max-height: 200px;\n}\n.load_more_button {\n  padding: 2vw 4vw 2vw;\n  text-align: center;\n  justify-content: center;\n  height: auto;\n  display: flex;\n}\n.load_more_text {\n  padding: 2vh;\n  color: #e2e5ea;\n  box-shadow: inset 0 0 5px #040217;\n  margin: 0 0 3vw;\n  border-radius: 12vw;\n  font-size: clamp(10px, 2.8vw, 38px);\n  background: #48af60;\n  width: 150vw;\n  cursor: pointer;\n  justify-content: center;\n}\n",""]),e.Z=s},4507:function(n,e,o){var t=o(8081),i=o.n(t),a=o(3645),s=o.n(a)()(i());s.push([n.id,".loader {\n  display: flex;\n  position: relative;\n  margin-left: auto;\n  margin-right: auto;\n  width: 200px;\n}\n@media screen and (max-width: 900px) {\n  .loader {\n    margin-left: 40%;\n  }\n}\n",""]),e.Z=s},3137:function(n,e,o){var t=o(8081),i=o.n(t),a=o(3645),s=o.n(a)()(i());s.push([n.id,".book_container {\n  vertical-align: top;\n  width: 100%;\n  height: 100%;\n  background: #fff;\n  padding-bottom: 20px;\n  display: flex;\n  justify-content: center;\n}\n.image_back {\n  background: #f3f2f1;\n  width: clamp(50px, 48vw, 800px);\n  height: 100%;\n  text-align: center;\n}\n.book_image_page {\n  margin: 8% 0 8%;\n  position: relative;\n  box-shadow: 4px 0 15px #545454;\n  width: clamp(50px, 45%, 600px);\n  max-height: 400px;\n}\n.text_decoration_page {\n  position: relative;\n  font-size: clamp(10px, 1.3vw, 38px);\n  color: gray;\n  text-align: start;\n}\n.category_page {\n  color: #040217;\n  padding-bottom: 4vh;\n}\n.name_book_page {\n  font-size: clamp(10px, 1.8vw, 38px);\n  color: #040217;\n}\n.info_book_block {\n  padding: 40px;\n  width: 100%;\n  height: 100vh;\n  background: #fff;\n}\n.description_block {\n  margin: 5% 0 0;\n  overflow: hidden;\n  padding: 20px;\n  border: solid 1px rgba(103, 103, 103, 0.2);\n  width: 100%;\n  height: 40vh;\n  scale: inherit;\n  font-size: clamp(10px, 1.8vw, 38px);\n  font-weight: 700;\n  scrollbar-gutter: stable;\n}\n.description_block:hover {\n  overflow: auto;\n}\n.authors_page {\n  color: rgba(141, 141, 141, 0.53);\n  text-decoration: underline;\n}\n@media screen and (max-width: 768px) {\n  .book_container {\n    display: block;\n  }\n  .image_back {\n    width: 100%;\n  }\n  .description_block {\n    width: 100%;\n  }\n}\n",""]),e.Z=s}}]);